//SpeedoGraph by VillageGreenPreserver
//https://github.com/VillageGreenPreserver/SpeedoGraph

"UnlitGeneric"
{
	"$basetexture"		"vgui/replay/thumbnails/speedograph_color/graph"
	"$translucent"	"1"
	"$ignorez"		"1"
	"$vertexalpha"		"1"
	"$vertexcolor"		"1"

	"$speed"		"0"
	"$speedMax"		"0.965"
	"$speedScale"	"0.0005"

	"$center"		"[0.5 0.5]"
	"$scale"		"[1 1]"
	"$rotate"		"0"
	"$translate"	"[0.0 0.0]"

	"$zero"		"0"
	"$one"		"1"

	"$graphcolor"	"[1.0 1.0 1.0]"
	"$colorScale"	"10"

	Proxies
	{
		PlayerSpeed
		{
			scale		"1"
			resultVar	"$speed"
		}

		Multiply
		{
			srcVar1		"$speed"
			srcVar2		"$speedScale"
			resultVar	"$speed"
		}

		Clamp
		{
			min			"$zero"
			max			"$speedMax"
			srcVar1		"$speed"
			resultVar	"$translate[1]"
		}

		TextureTransform
		{
			centerVar		"$center"
			scaleVar		"$scale"
			rotateVar		"$rotate"
			translateVar	"$translate"
			resultVar		"$basetexturetransform"
		}

		Multiply
		{
			srcVar1		"$speed"
			srcVar2		"$colorScale"
			resultVar	"$speed"
		}

		Equals
		{
			srcVar1		"$speed"
			resultVar	"$graphcolor[0]"
		}

		Divide
		{
			srcVar1		"$one"
			srcVar2		"$speed"
			resultVar	"$speed"
		}

		Equals
		{
			srcVar1		"$speed"
			resultVar	"$graphcolor[1]"
		}

		Equals
		{
			srcVar1		"$zero"
			resultVar	"$graphcolor[2]"
		}

		Equals
		{
			srcVar1		"$graphcolor"
			resultVar	"$color"
		}
	}
}